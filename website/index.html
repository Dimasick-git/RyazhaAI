<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }
        
        .main-content {
            flex: 2;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .chat-section {
            flex: 1;
            min-width: 400px;
        }
        
        .top-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            border-radius: 10px;
            margin: 0 auto 20px;
            max-width: 1400px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        .header {
            background: white;
            padding: 20px;
            border-radius: 10px 10px 0 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header h1 {
            color: #667eea;
            font-size: 24px;
            margin: 0;
        }
        
        .settings-icon {
            width: 32px;
            height: 32px;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .settings-icon:hover {
            transform: rotate(90deg);
        }
        
        .chat-container {
            background: white;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            height: 70vh;
        }
        
        .messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        
        .message {
            margin-bottom: 15px;
            padding: 10px 15px;
            border-radius: 10px;
            max-width: 80%;
        }
        
        .message.user {
            background: #667eea;
            color: white;
            margin-left: auto;
        }
        
        .message.assistant {
            background: #f0f0f0;
            color: #333;
        }
        
        .input-area {
            padding: 20px;
            border-top: 1px solid #eee;
        }
        
        .input-group {
            display: flex;
            gap: 10px;
        }
        
        input[type="text"] {
            flex: 1;
            padding: 12px;
            border: 2px solid #667eea;
            border-radius: 5px;
            font-size: 16px;
        }
        
        button {
            padding: 12px 24px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        button:hover {
            background: #5568d3;
        }
        
        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .settings {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            animation: slideDown 0.3s ease;
        }
        
        .settings.active {
            display: block;
        }
        
        .settings h3 {
            color: #667eea;
            margin-bottom: 10px;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .footer {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin: 20px auto;
            max-width: 1400px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .footer h3 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 20px;
        }
        
        .footer p {
            color: #666;
            margin: 5px 0;
            font-size: 14px;
        }
        
        .status {
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
        }
        
        .guides-container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            min-height: 400px;
        }
        
        .guides-container h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 28px;
        }
        
        .guide-item {
            padding: 20px;
            margin-bottom: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .guide-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }
        
        .guide-item h3 {
            color: #333;
            margin-bottom: 8px;
            font-size: 18px;
        }
        
        .guide-item p {
            color: #666;
            font-size: 14px;
            margin: 0;
        }
        
        .guide-content {
            display: none;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .guide-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        .guide-content h2 {
            color: #667eea;
            margin-bottom: 20px;
        }
        
        .guide-content h3 {
            color: #333;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        
        .guide-content p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .guide-content ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        .guide-content li {
            color: #666;
            margin-bottom: 8px;
            line-height: 1.6;
        }
        
        .guide-content code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #667eea;
            font-size: 14px;
        }
        
        .back-button {
            display: inline-block;
            padding: 10px 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 20px;
            transition: background 0.3s;
        }
        
        .back-button:hover {
            background: #5568d3;
        }
        
        .download-link {
            display: block;
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .download-link a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }
        
        .download-link a:hover {
            text-decoration: underline;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .coming-soon {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.02);
            }
        }
        
        @media (max-width: 1024px) {
            .container {
                flex-direction: column;
            }
            
            .chat-section {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- –í–µ—Ä—Ö–Ω–∏–π –±–∞–Ω–Ω–µ—Ä -->
    <div class="top-banner">
        ü§ñ AiChat for Ryzhenka
    </div>
    
    <div class="container">
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å–ª–µ–≤–∞ -->
        <div class="main-content">
            <!-- –°–ø–∏—Å–æ–∫ –≥–∞–π–¥–æ–≤ -->
            <div class="guides-container" id="guidesList">
                <h2>üìö –ì–∞–π–¥—ã –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</h2>
                
                <div class="guide-item" onclick="showGuide('switch')">
                    <h3>üéÆ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Nintendo Switch</h3>
                    <p>–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ AI Chat –Ω–∞ –≤–∞—à—É –∫–æ–Ω—Å–æ–ª—å</p>
                </div>
                
                <div class="guide-item" onclick="showGuide('problems')">
                    <h3>üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º</h3>
                    <p>–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ —Ä–µ—à–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º</p>
                </div>
            </div>
            
            <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≥–∞–π–¥–∞: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Switch -->
            <div class="guide-content" id="guide-switch">
                <button class="back-button" onclick="showGuidesList()">‚Üê –ù–∞–∑–∞–¥ –∫ –≥–∞–π–¥–∞–º</button>
                <h2>üéÆ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Nintendo Switch</h2>
                
                <h3>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:</h3>
                <ul>
                    <li>Nintendo Switch —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π –ø—Ä–æ—à–∏–≤–∫–æ–π (Atmosphere/Hekate)</li>
                    <li>SD –∫–∞—Ä—Ç–∞</li>
                    <li>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É</li>
                </ul>
                
                <h3>–®–∞–≥ 1: –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª</h3>
                <p>–°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª ai-chat.nro —Å GitHub.</p>
                
                <h3>–®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞</h3>
                <p>1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª ai-chat.nro –Ω–∞ SD –∫–∞—Ä—Ç—É Switch</p>
                <p>2. –ü—É—Ç—å –Ω–∞ SD –∫–∞—Ä—Ç–µ: <code>/switch/ai-chat/ai-chat.nro</code></p>
                <p>3. –í—Å—Ç–∞–≤—å—Ç–µ SD –∫–∞—Ä—Ç—É –≤ Switch</p>
                
                <h3>–®–∞–≥ 3: –ó–∞–ø—É—Å–∫</h3>
                <p>1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Homebrew Menu (—É–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ R –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–≥—Ä—ã/–∞–ª—å–±–æ–º–∞)</p>
                <p>2. –ù–∞–π–¥–∏—Ç–µ "AI Chat" –≤ —Å–ø–∏—Å–∫–µ</p>
                <p>3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</p>
                <p>4. Switch –æ—Ç–∫—Ä–æ–µ—Ç –±—Ä–∞—É–∑–µ—Ä —Å AI —á–∞—Ç–æ–º!</p>
                
                <div class="download-link">
                    <strong>–°—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø—Ä–æ—à–∏–≤–∫–∏:</strong> <a href="https://github.com/Dimasick-git/Ryzhenka/releases" target="_blank">GitHub Releases</a>
                </div>
            </div>
            
            <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≥–∞–π–¥–∞: –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º -->
            <div class="guide-content" id="guide-problems">
                <button class="back-button" onclick="showGuidesList()">‚Üê –ù–∞–∑–∞–¥ –∫ –≥–∞–π–¥–∞–º</button>
                <h2>üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º</h2>
                
                <h3>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ Switch</h3>
                <p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p>
                <ul>
                    <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Switch –∏–º–µ–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—É—é –ø—Ä–æ—à–∏–≤–∫—É (Atmosphere)</li>
                    <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É: /switch/ai-chat/ai-chat.nro</li>
                    <li>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Switch</li>
                </ul>
                
                <h3>–ë—Ä–∞—É–∑–µ—Ä –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è</h3>
                <p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p>
                <ul>
                    <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É</li>
                    <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ DNS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ</li>
                    <li>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</li>
                </ul>
                
                <h3>AI –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç</h3>
                <p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p>
                <ul>
                    <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É</li>
                    <li>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</li>
                    <li>–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è - –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π API –∫–ª—é—á</li>
                </ul>
                
                <h3>–î—Ä—É–≥–∏–µ –ø—Ä–æ–±–ª–µ–º—ã</h3>
                <p>–ï—Å–ª–∏ –≤–∞—à–∞ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞, –ø–æ—Å–µ—Ç–∏—Ç–µ –Ω–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–º–æ—â–∏.</p>
                
                <div class="download-link">
                    <strong>–°—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø—Ä–æ—à–∏–≤–∫–∏:</strong> <a href="https://github.com/Dimasick-git/Ryzhenka" target="_blank">GitHub Repository</a>
                </div>
            </div>
            
            <!-- –ü–ª–∞—à–∫–∞ "–°–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è" -->
            <div class="coming-soon">
                ‚ú® –ù–æ–≤—ã–µ –≥–∞–π–¥—ã —Å–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è
            </div>
        </div>
        
        <!-- –ß–∞—Ç —Å–ø—Ä–∞–≤–∞ -->
        <div class="chat-section">
            <div class="header">
                <h1>ü§ñ AI Chat</h1>
                <svg class="settings-icon" onclick="toggleSettings()" viewBox="0 0 24 24" fill="none" stroke="#667eea" stroke-width="2">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M12 1v6m0 6v6m-9-9h6m6 0h6m-4.5-4.5l-1.5 1.5m-6 6l-1.5 1.5m12 0l-1.5-1.5m-6-6l-1.5-1.5"></path>
                </svg>
            </div>
            
            <div class="chat-container">
                <div class="messages" id="messages">
                    <div class="message assistant">
                        –ü—Ä–∏–≤–µ—Ç! –Ø AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç. –ó–∞–¥–∞–π—Ç–µ –º–Ω–µ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å!
                    </div>
                </div>
                
                <div class="input-area">
                    <div class="input-group">
                        <input type="text" id="messageInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." />
                        <button onclick="sendMessage()" id="sendBtn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                    </div>
                </div>
            </div>
            
            <div class="settings" id="settingsPanel">
                <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                <div class="input-group">
                    <input type="text" id="apiKeyInput" placeholder="API –∫–ª—é—á (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)" />
                    <button onclick="saveApiKey()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
                <div id="status"></div>
            </div>
        </div>
    </div>
    
    <!-- –§—É—Ç–µ—Ä —Å –∞–≤—Ç–æ—Ä–∞–º–∏ -->
    <div class="footer">
        <h3>üë• –ê–≤—Ç–æ—Ä—ã</h3>
        <p><strong>–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:</strong> –í–∞—à–µ –∏–º—è</p>
        <p><strong>–î–∏–∑–∞–π–Ω:</strong> –í–∞—à–µ –∏–º—è</p>
        <p><strong>GitHub:</strong> <a href="https://github.com/Dimasick-git/Ryzhenka" target="_blank" style="color: #667eea; text-decoration: none;">Ryzhenka Project</a></p>
    </div>

    <script>
        // API –∫–ª—é—á –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        const DEFAULT_API_KEY = 'sk-W3WuTHKVmxudeH6AqojJSm8RH50D9DKRuO6FVnbJufOVDnw4';
        const API_URL = 'https://api.chatanywhere.tech/v1/chat/completions';
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        let apiKey = localStorage.getItem('apiKey') || DEFAULT_API_KEY;
        
        // –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        function toggleSettings() {
            const panel = document.getElementById('settingsPanel');
            panel.classList.toggle('active');
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –≥–∞–π–¥
        function showGuide(guideId) {
            // –°–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫ –≥–∞–π–¥–æ–≤
            document.getElementById('guidesList').style.display = 'none';
            
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ –≥–∞–π–¥—ã
            document.querySelectorAll('.guide-content').forEach(guide => {
                guide.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≥–∞–π–¥
            document.getElementById('guide-' + guideId).classList.add('active');
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≥–∞–π–¥–æ–≤
        function showGuidesList() {
            // –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫
            document.getElementById('guidesList').style.display = 'block';
            
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ –≥–∞–π–¥—ã
            document.querySelectorAll('.guide-content').forEach(guide => {
                guide.classList.remove('active');
            });
        }
        
        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–ª—é—á
        function saveApiKey() {
            const input = document.getElementById('apiKeyInput');
            if (input.value.trim()) {
                apiKey = input.value.trim();
                localStorage.setItem('apiKey', apiKey);
                showStatus('API –∫–ª—é—á —Å–æ—Ö—Ä–∞–Ω–µ–Ω!', 'success');
            }
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å
        function showStatus(message, type) {
            const status = document.getElementById('status');
            status.textContent = message;
            status.className = 'status ' + type;
            setTimeout(() => {
                status.textContent = '';
                status.className = 'status';
            }, 3000);
        }
        
        // –î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
        function addMessage(text, sender) {
            const messagesDiv = document.getElementById('messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ' + sender;
            messageDiv.textContent = text;
            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }
        
        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
        async function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // –î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            addMessage(message, 'user');
            input.value = '';
            
            // –û—Ç–∫–ª—é—á–∏—Ç—å –∫–Ω–æ–ø–∫—É
            const sendBtn = document.getElementById('sendBtn');
            sendBtn.disabled = true;
            sendBtn.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';
            
            try {
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer ' + apiKey
                    },
                    body: JSON.stringify({
                        model: 'gpt-3.5-turbo',
                        messages: [
                            {
                                role: 'user',
                                content: message
                            }
                        ]
                    })
                });
                
                if (!response.ok) {
                    throw new Error('–û—à–∏–±–∫–∞ API: ' + response.status);
                }
                
                const data = await response.json();
                const reply = data.choices[0].message.content;
                
                // –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç AI
                addMessage(reply, 'assistant');
                
            } catch (error) {
                console.error('Error:', error);
                addMessage('–û—à–∏–±–∫–∞: ' + error.message, 'assistant');
            } finally {
                sendBtn.disabled = false;
                sendBtn.textContent = '–û—Ç–ø—Ä–∞–≤–∏—Ç—å';
            }
        }
        
        // Enter –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
        document.getElementById('messageInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
        if (apiKey === DEFAULT_API_KEY) {
            showStatus('–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è API –∫–ª—é—á –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é', 'success');
        }
    </script>
</body>
</html>
